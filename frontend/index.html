<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard E-Sports & Apostas - An√°lise de Alertas</title>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f9fafb;
            flex-direction: column;
        }
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f4f6;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .chart-container {
            position: relative;
            height: 300px;
            margin: 20px 0;
            width: 100%;
        }
        .alert-card {
            border-left: 4px solid #dc2626;
            transition: all 0.2s;
        }
        .alert-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .academic-highlight {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        .problem-alert {
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
            color: #2d3436;
        }
        .success-alert {
            background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
            color: white;
        }
        .severity-badge {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .severity-critical {
            background-color: #fecaca;
            color: #991b1b;
            border: 1px solid #f87171;
        }
        .severity-high {
            background-color: #fed7aa;
            color: #9a3412;
            border: 1px solid #fb923c;
        }
        .severity-medium {
            background-color: #fef3c7;
            color: #92400e;
            border: 1px solid #fbbf24;
        }
        .severity-low {
            background-color: #d1fae5;
            color: #065f46;
            border: 1px solid #34d399;
        }
        .platform-icon {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
        }
        .platform-youtube { background-color: #ff0000; }
        .platform-twitter { background-color: #1da1f2; }
        .platform-instagram { background-color: #e4405f; }
        .platform-twitch { background-color: #9146ff; }
        .platform-tiktok { background-color: #000000; }
        .keyword-highlight {
            background-color: #fef3c7;
            color: #92400e;
            padding: 0.125rem 0.375rem;
            border-radius: 0.25rem;
            font-weight: 600;
            font-size: 0.875rem;
        }
        .alert-detail-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        .alert-explanation {
            background-color: #f8fafc;
            border-left: 3px solid #3b82f6;
            padding: 0.75rem;
            margin-top: 1rem;
            border-radius: 0 0.375rem 0.375rem 0;
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="loading">
            <div class="spinner"></div>
            <p class="mt-4 text-gray-600">Carregando Dashboard E-Sports...</p>
            <p class="text-sm text-gray-500">Conectando com o backend...</p>
        </div>
    </div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // DADOS DE DEMONSTRA√á√ÉO MELHORADOS COM DETALHES DOS ALERTAS
        const DEMO_DATA = {
            dashboardData: {
                api_status: {
                    has_problems: true,
                    problems_detected: [
                        "API do Twitter sem configura√ß√£o (chave ausente)",
                        "API do Instagram com limite de taxa atingido",
                        "Algumas plataformas podem ter dados limitados"
                    ]
                }
            },
            alertAnalytics: {
                executive_summary: {
                    total_alerts: 247,
                    critical_alerts: 23,
                    minor_exposure_estimate: 15,
                    compliance_score: 78,
                    affected_athletes: 89,
                    platforms_monitored: 5,
                    data_freshness: "2 horas atr√°s"
                },
                chart_data: {
                    severity_distribution: {
                        1: 45,  // Baixo
                        2: 128, // M√©dio  
                        3: 74   // Alto
                    },
                    category_distribution: {
                        "Apostas Menores": 67,
                        "Promo√ß√£o Irregular": 45,
                        "Conte√∫do Inadequado": 89,
                        "Viola√ß√£o Regulat√≥ria": 23,
                        "Risco Reputacional": 23
                    },
                    platform_distribution: {
                        "Twitter/X": 102,
                        "Instagram": 78,
                        "TikTok": 45,
                        "YouTube": 22
                    }
                },
                risk_assessment: {
                    minor_exposure_risk: 85,
                    regulatory_risk: 72,
                    reputational_risk: 65,
                    legal_risk: 58
                }
            },
            detailedAlerts: {
                alerts: [
                    {
                        id: "ALT-001",
                        severity: 4, // Cr√≠tico
                        severity_label: "Cr√≠tico",
                        category: "Exposi√ß√£o de Menores",
                        platform: "Instagram",
                        platform_url: "https://instagram.com/p/xyz123",
                        description: "Influenciador postou conte√∫do promocional de casa de apostas durante hor√°rio de menor audi√™ncia",
                        detected_keywords: ["apostar", "casa de apostas", "odds", "probabilidades"],
                        problem_type: "Exposi√ß√£o de menores a conte√∫do de apostas",
                        timestamp: "2025-08-04T10:30:00Z",
                        athlete_involved: "Jo√£o Silva (@joaosilva_oficial)",
                        risk_score: 94,
                        explanation: "Conte√∫do detectado durante hor√°rio com alta audi√™ncia de menores (10h30 - manh√£ de s√°bado). O algoritmo identificou m√∫ltiplas palavras-chave relacionadas a apostas combinadas com aus√™ncia de disclaimers de idade. Risco cr√≠tico devido ao alcance de 2.3M seguidores e 15% de audi√™ncia estimada menor de 18 anos.",
                        content_sample: "üî• ODDS INCR√çVEIS na Betfair! Apostem no meu jogo de hoje! Link na bio...",
                        follower_count: 2300000,
                        estimated_minor_audience: 15,
                        engagement_rate: 8.5
                    },
                    {
                        id: "ALT-002", 
                        severity: 2, // M√©dio
                        severity_label: "M√©dio",
                        category: "Promo√ß√£o Irregular",
                        platform: "Twitter/X",
                        platform_url: "https://twitter.com/user/status/123456",
                        description: "Tweet promocional sem disclaimer adequado de apostas respons√°veis",
                        detected_keywords: ["bet", "aposta", "promo"],
                        problem_type: "Aus√™ncia de disclaimer de jogo respons√°vel",
                        timestamp: "2025-08-04T09:15:00Z",
                        athlete_involved: "Maria Santos (@mariasantos)",
                        risk_score: 64,
                        explanation: "Tweet promocional identificado sem os disclaimers obrigat√≥rios de 'Jogue com Responsabilidade' ou '+18'. Classifica√ß√£o m√©dia devido ao menor alcance da conta e presen√ßa de hashtags relacionadas a apostas sem orienta√ß√£o adequada.",
                        content_sample: "Galera! Novo c√≥digo promocional dispon√≠vel! Use MARIA20 e ganhe b√¥nus...",
                        follower_count: 850000,
                        estimated_minor_audience: 8,
                        engagement_rate: 12.3
                    },
                    {
                        id: "ALT-003",
                        severity: 4, // Cr√≠tico
                        severity_label: "Cr√≠tico",
                        category: "Viola√ß√£o Regulat√≥ria", 
                        platform: "TikTok",
                        platform_url: "https://tiktok.com/@user/video/789012",
                        description: "V√≠deo promocional com menores vis√≠veis durante apresenta√ß√£o de casa de apostas",
                        detected_keywords: ["sportingbet", "casa de apostas", "ganhar dinheiro", "f√°cil"],
                        problem_type: "Presen√ßa de menores em conte√∫do promocional de apostas",
                        timestamp: "2025-08-04T08:45:00Z",
                        athlete_involved: "Pedro Costa (@pedrocostaoficial)",
                        risk_score: 98,
                        explanation: "V√≠deo de alto risco com menores claramente vis√≠veis (fam√≠lia do atleta) durante apresenta√ß√£o ativa de plataforma de apostas. Viola√ß√£o direta das regulamenta√ß√µes da SECAP. Algoritmo de detec√ß√£o facial confirmou presen√ßa de 3 menores no v√≠deo de 2min30s.",
                        content_sample: "Em fam√≠lia promovendo a SportingBet! Meus filhos tamb√©m torcem...",
                        follower_count: 1200000,
                        estimated_minor_audience: 22,
                        engagement_rate: 15.7
                    },
                    {
                        id: "ALT-004",
                        severity: 3, // Alto
                        severity_label: "Alto",
                        category: "Conte√∫do Inadequado",
                        platform: "YouTube", 
                        platform_url: "https://youtube.com/watch?v=abc123",
                        description: "V√≠deo tutorial de apostas esportivas sem verifica√ß√£o de idade",
                        detected_keywords: ["como apostar", "estrat√©gias", "tutorial", "garantido"],
                        problem_type: "Conte√∫do educacional sobre apostas sem restri√ß√£o et√°ria",
                        timestamp: "2025-08-04T07:20:00Z",
                        athlete_involved: "Ana Oliveira (@anaoliveira_gamer)",
                        risk_score: 81,
                        explanation: "V√≠deo tutorial detalhado sobre estrat√©gias de apostas esportivas sem configura√ß√£o de restri√ß√£o et√°ria no YouTube. Canal com hist√≥rico de audi√™ncia jovem (35% menores de 18). Conte√∫do educacional sobre apostas pode influenciar comportamento de menores.",
                        content_sample: "Tutorial: Como Apostar em E-Sports e SEMPRE Ganhar - Estrat√©gias Infal√≠veis",
                        follower_count: 980000,
                        estimated_minor_audience: 35,
                        engagement_rate: 9.2
                    },
                    {
                        id: "ALT-005",
                        severity: 3, // Alto
                        severity_label: "Alto", 
                        category: "Viola√ß√£o Regulat√≥ria",
                        platform: "Twitch",
                        platform_url: "https://twitch.tv/streamer123",
                        description: "Stream ao vivo com promo√ß√£o de casa de apostas durante gameplay",
                        detected_keywords: ["rivalo", "odds ao vivo", "aposte agora", "c√≥digo"],
                        problem_type: "Promo√ß√£o de apostas durante conte√∫do de jogos",
                        timestamp: "2025-08-04T06:10:00Z",
                        athlete_involved: "Carlos Mendez (@carlosmendez_pro)",
                        risk_score: 87,
                        explanation: "Stream ao vivo na Twitch com promo√ß√£o ativa de casa de apostas durante gameplay de CS2. Audi√™ncia em tempo real de 12.4k viewers com chat ativo discutindo apostas. Viola√ß√£o das diretrizes da Twitch sobre conte√∫do de apostas durante streams de jogos.",
                        content_sample: "Chat, usem meu c√≥digo CARLOS50 na Rivalo enquanto jogo! Odds ao vivo...",
                        follower_count: 654000,
                        estimated_minor_audience: 28,
                        engagement_rate: 18.9
                    },
                    {
                        id: "ALT-006",
                        severity: 1, // Baixo
                        severity_label: "Baixo",
                        category: "Risco Reputacional",
                        platform: "Instagram",
                        platform_url: "https://instagram.com/p/def456", 
                        description: "Post com linguagem amb√≠gua que pode ser interpretada como incentivo a apostas",
                        detected_keywords: ["sortudo", "ganhar", "chance"],
                        problem_type: "Linguagem amb√≠gua potencialmente promocional",
                        timestamp: "2025-08-04T05:30:00Z",
                        athlete_involved: "Lucas Fernandes (@lucasfernandes)",
                        risk_score: 32,
                        explanation: "Post com linguagem que pode ser interpretada como incentivo indireto a apostas, mas sem men√ß√£o expl√≠cita a casas de apostas. Classifica√ß√£o baixa devido √† natureza amb√≠gua do conte√∫do e presen√ßa de disclaimers adequados no perfil.",
                        content_sample: "Que sorte! Hoje foi meu dia de ganhar... √†s vezes a vida nos d√° uma chance...",
                        follower_count: 450000,
                        estimated_minor_audience: 12,
                        engagement_rate: 6.1
                    }
                ]
            },
            academicReport: {
                research_summary: {
                    methodology: "An√°lise automatizada de conte√∫do em m√≠dias sociais usando NLP e classifica√ß√£o por IA",
                    sample_size: 15420,
                    analysis_period: "Janeiro 2025 - Agosto 2025",
                    confidence_level: 95,
                    key_findings: [
                        "15% dos conte√∫dos analisados apresentam potencial exposi√ß√£o de menores a apostas",
                        "Plataformas visuais (Instagram/TikTok) t√™m 3x mais viola√ß√µes que baseadas em texto",
                        "Influenciadores com >100k seguidores t√™m maior taxa de compliance (78% vs 45%)",
                        "Hor√°rios de pico (18h-22h) concentram 67% das viola√ß√µes detectadas"
                    ]
                },
                academic_metrics: {
                    publications_referenced: 127,
                    statistical_significance: 0.001,
                    effect_size: 0.73,
                    peer_review_status: "Em revis√£o - Journal of Digital Ethics"
                }
            }
        };

        // CLIENTE API COM FALLBACK PARA DADOS DE DEMONSTRA√á√ÉO
        class EsportsApiClient {
            constructor(baseURL = '/api') {
                this.baseURL = baseURL;
                this.requestCount = 0;
                this.useDemo = false;
            }

            async request(endpoint, options = {}) {
                this.requestCount++;
                const requestId = this.requestCount;
                
                try {
                    console.log(`üì° [${requestId}] Tentando request para: ${this.baseURL}${endpoint}`);
                    
                    const response = await fetch(`${this.baseURL}${endpoint}`, {
                        headers: {
                            'Content-Type': 'application/json',
                            ...options.headers
                        },
                        timeout: 5000, // 5 segundos de timeout
                        ...options
                    });

                    if (!response.ok) {
                        throw new Error(`API Error ${response.status}: ${response.statusText}`);
                    }

                    const data = await response.json();
                    console.log(`‚úÖ [${requestId}] Dados recebidos de ${endpoint}`);
                    return data;
                    
                } catch (error) {
                    console.warn(`‚ö†Ô∏è [${requestId}] API indispon√≠vel para ${endpoint}, usando dados de demonstra√ß√£o`);
                    this.useDemo = true;
                    return this.getDemoData(endpoint);
                }
            }

            getDemoData(endpoint) {
                const demoMap = {
                    '/dashboard/data': DEMO_DATA.dashboardData,
                    '/alerts/analytics': DEMO_DATA.alertAnalytics,
                    '/alerts/detailed': DEMO_DATA.detailedAlerts,
                    '/academic/report': DEMO_DATA.academicReport
                };

                return demoMap[endpoint] || { error: 'Dados de demonstra√ß√£o n√£o encontrados' };
            }

            async getDashboardData() {
                return this.request('/dashboard/data');
            }

            async getAlertAnalytics() {
                return this.request('/alerts/analytics');
            }

            async getDetailedAlerts(filters = {}) {
                const params = new URLSearchParams(filters).toString();
                return this.request(`/alerts/detailed${params ? '?' + params : ''}`);
            }

            async getAcademicReport() {
                return this.request('/academic/report');
            }

            async forceCollection() {
                return this.request('/collect/full-analysis', { method: 'POST' });
            }
        }

        // COMPONENTE PARA BADGE DE SEVERIDADE
        const SeverityBadge = ({ severity, label }) => {
            const getClassName = () => {
                switch(severity) {
                    case 4: return 'severity-badge severity-critical';
                    case 3: return 'severity-badge severity-high';
                    case 2: return 'severity-badge severity-medium';
                    case 1: return 'severity-badge severity-low';
                    default: return 'severity-badge severity-low';
                }
            };

            const getIcon = () => {
                switch(severity) {
                    case 4: return 'üî¥';
                    case 3: return 'üü†';
                    case 2: return 'üü°';
                    case 1: return 'üü¢';
                    default: return '‚ö™';
                }
            };

            return (
                <span className={getClassName()}>
                    {getIcon()} {label || `N√≠vel ${severity}`}
                </span>
            );
        };

        // COMPONENTE PARA √çCONE DA PLATAFORMA
        const PlatformIcon = ({ platform }) => {
            const getPlatformConfig = () => {
                const name = platform.toLowerCase();
                if (name.includes('youtube')) return { icon: 'YT', class: 'platform-youtube' };
                if (name.includes('twitter') || name.includes('x')) return { icon: 'TW', class: 'platform-twitter' };
                if (name.includes('instagram')) return { icon: 'IG', class: 'platform-instagram' };
                if (name.includes('twitch')) return { icon: 'TW', class: 'platform-twitch' };
                if (name.includes('tiktok')) return { icon: 'TT', class: 'platform-tiktok' };
                return { icon: '??', class: 'platform-twitter' };
            };

            const config = getPlatformConfig();
            
            return (
                <div className={`platform-icon ${config.class}`} title={platform}>
                    {config.icon}
                </div>
            );
        };

        // COMPONENTE PARA DESTACAR PALAVRAS-CHAVE
        const KeywordHighlight = ({ keywords }) => {
            if (!keywords || keywords.length === 0) return null;
            
            return (
                <div className="flex flex-wrap gap-1 mt-2">
                    {keywords.map((keyword, index) => (
                        <span key={index} className="keyword-highlight">
                            "{keyword}"
                        </span>
                    ))}
                </div>
            );
        };

        // COMPONENTE DE GR√ÅFICO CORRIGIDO
        const ChartComponent = ({ type, data, options, title, className = '' }) => {
            const canvasRef = useRef(null);
            const chartRef = useRef(null);

            useEffect(() => {
                if (typeof Chart === 'undefined') {
                    console.error('‚ùå Chart.js n√£o carregado!');
                    return;
                }

                if (!data || !data.datasets || data.datasets.length === 0) {
                    console.warn('‚ö†Ô∏è Sem dados para o gr√°fico:', title);
                    return;
                }

                if (!canvasRef.current) {
                    console.warn('‚ö†Ô∏è Canvas n√£o encontrado para:', title);
                    return;
                }

                try {
                    const ctx = canvasRef.current.getContext('2d');
                    
                    if (chartRef.current) {
                        chartRef.current.destroy();
                    }

                    chartRef.current = new Chart(ctx, {
                        type: type,
                        data: data,
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                title: {
                                    display: !!title,
                                    text: title,
                                    font: { size: 16, weight: 'bold' },
                                    color: '#1f2937'
                                },
                                legend: {
                                    position: 'top',
                                    labels: {
                                        usePointStyle: true,
                                        padding: 20
                                    }
                                }
                            },
                            scales: type === 'bar' || type === 'line' ? {
                                y: {
                                    beginAtZero: true,
                                    grid: { color: '#f3f4f6' }
                                },
                                x: {
                                    grid: { color: '#f3f4f6' }
                                }
                            } : {},
                            ...options
                        }
                    });

                    console.log('‚úÖ Gr√°fico criado:', title);

                } catch (error) {
                    console.error('‚ùå Erro criando gr√°fico:', title, error);
                }

                return () => {
                    if (chartRef.current) {
                        chartRef.current.destroy();
                    }
                };
            }, [type, data, options, title]);

            return (
                <div className={`chart-container ${className}`}>
                    {data && data.datasets && data.datasets.length > 0 ? (
                        <canvas ref={canvasRef}></canvas>
                    ) : (
                        <div className="flex items-center justify-center h-full text-gray-500">
                            <div className="text-center">
                                <div className="text-4xl mb-2">üìä</div>
                                <div>Sem dados dispon√≠veis</div>
                                <div className="text-sm">para {title}</div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // COMPONENTE PRINCIPAL CORRIGIDO
        const EsportsMonitoringDashboard = () => {
            const [activeTab, setActiveTab] = useState('overview');
            const [isLoading, setIsLoading] = useState(true);
            const [dashboardData, setDashboardData] = useState(null);
            const [alertAnalytics, setAlertAnalytics] = useState(null);
            const [detailedAlerts, setDetailedAlerts] = useState(null);
            const [academicReport, setAcademicReport] = useState(null);
            const [error, setError] = useState(null);
            const [isCollecting, setIsCollecting] = useState(false);
            const [apiProblems, setApiProblems] = useState([]);
            const [isDemoMode, setIsDemoMode] = useState(false);
            
            const apiClient = new EsportsApiClient();

            const loadAllData = async () => {
                setIsLoading(true);
                setError(null);
                setApiProblems([]);
                
                try {
                    console.log('üîÑ Iniciando carregamento completo dos dados...');
                    
                    const promises = [
                        apiClient.getDashboardData().catch(err => ({ error: 'Dashboard', details: err.message })),
                        apiClient.getAlertAnalytics().catch(err => ({ error: 'Analytics', details: err.message })),
                        apiClient.getDetailedAlerts({ limit: 20 }).catch(err => ({ error: 'Alerts', details: err.message })),
                        apiClient.getAcademicReport().catch(err => ({ error: 'Academic', details: err.message }))
                    ];

                    const [dashboard, analytics, alerts, academic] = await Promise.all(promises);

                    // Verificar se est√° usando dados de demonstra√ß√£o
                    setIsDemoMode(apiClient.useDemo);

                    const errors = [];
                    const problems = [];

                    if (dashboard.error) {
                        errors.push(`Dashboard: ${dashboard.details}`);
                        console.error('‚ùå Erro no dashboard:', dashboard.details);
                    } else {
                        setDashboardData(dashboard);
                        if (dashboard.api_status?.has_problems) {
                            problems.push(...dashboard.api_status.problems_detected);
                        }
                        console.log('‚úÖ Dashboard carregado');
                    }

                    if (analytics.error) {
                        errors.push(`Analytics: ${analytics.details}`);
                        console.error('‚ùå Erro no analytics:', analytics.details);
                    } else {
                        setAlertAnalytics(analytics);
                        console.log('‚úÖ Analytics carregado');
                    }

                    if (alerts.error) {
                        errors.push(`Alerts: ${alerts.details}`);
                        console.error('‚ùå Erro nos alerts:', alerts.details);
                    } else {
                        setDetailedAlerts(alerts);
                        console.log('‚úÖ Alerts carregados');
                    }

                    if (academic.error) {
                        errors.push(`Academic: ${academic.details}`);
                        console.error('‚ùå Erro no academic:', academic.details);
                    } else {
                        setAcademicReport(academic);
                        console.log('‚úÖ Academic carregado');
                    }

                    setApiProblems(problems);

                    if (errors.length >= 3) {
                        setError(`M√∫ltiplos erros detectados: ${errors.join(', ')}`);
                    } else if (errors.length > 0) {
                        console.warn('‚ö†Ô∏è Alguns dados n√£o puderam ser carregados:', errors);
                    }
                    
                    console.log('‚úÖ Carregamento conclu√≠do!');
                    
                } catch (err) {
                    console.error('‚ùå Erro cr√≠tico no carregamento:', err);
                    setError(`Erro cr√≠tico: ${err.message}`);
                } finally {
                    setIsLoading(false);
                }
            };

            const handleForceCollection = async () => {
                setIsCollecting(true);
                try {
                    console.log('üîÑ For√ßando nova coleta...');
                    await apiClient.forceCollection();
                    await loadAllData();
                    console.log('‚úÖ Nova coleta conclu√≠da');
                } catch (error) {
                    console.error('‚ùå Erro na coleta for√ßada:', error);
                    setError('Erro ao for√ßar coleta: ' + error.message);
                } finally {
                    setIsCollecting(false);
                }
            };

            useEffect(() => {
                console.log('üéØ Dashboard montado, iniciando carregamento...');
                loadAllData();
            }, []);

            const prepareChartData = () => {
                if (!alertAnalytics?.chart_data) {
                    console.warn('‚ö†Ô∏è Sem dados de chart_data dispon√≠veis');
                    return null;
                }

                const chartData = alertAnalytics.chart_data;

                return {
                    severity: {
                        type: 'doughnut',
                        data: {
                            labels: ['Alto Risco', 'M√©dio Risco', 'Baixo Risco'],
                            datasets: [{
                                data: [
                                    chartData.severity_distribution?.[3] || 0,
                                    chartData.severity_distribution?.[2] || 0,
                                    chartData.severity_distribution?.[1] || 0
                                ],
                                backgroundColor: ['#DC2626', '#F59E0B', '#10B981'],
                                borderWidth: 2,
                                borderColor: '#ffffff'
                            }]
                        },
                        title: 'Distribui√ß√£o por Severidade'
                    },

                    categories: {
                        type: 'bar',
                        data: {
                            labels: Object.keys(chartData.category_distribution || {}),
                            datasets: [{
                                label: 'N√∫mero de Alertas',
                                data: Object.values(chartData.category_distribution || {}),
                                backgroundColor: '#7C3AED',
                                borderColor: '#5B21B6',
                                borderWidth: 1
                            }]
                        },
                        options: {
                            indexAxis: 'y'
                        },
                        title: 'Categorias de Alerta'
                    },

                    platforms: {
                        type: 'pie',
                        data: {
                            labels: Object.keys(chartData.platform_distribution || {}),
                            datasets: [{
                                data: Object.values(chartData.platform_distribution || {}),
                                backgroundColor: ['#EF4444', '#F59E0B', '#3B82F6', '#10B981'],
                                borderWidth: 2
                            }]
                        },
                        title: 'Distribui√ß√£o por Plataforma'
                    },

                    riskIndicators: {
                        type: 'radar',
                        data: {
                            labels: ['Exposi√ß√£o Menores', 'Risco Regulat√≥rio', 'Risco Reputacional', 'Risco Legal'],
                            datasets: [{
                                label: 'Indicadores de Risco (%)',
                                data: [
                                    alertAnalytics.risk_assessment?.minor_exposure_risk || 0,
                                    alertAnalytics.risk_assessment?.regulatory_risk || 0,
                                    alertAnalytics.risk_assessment?.reputational_risk || 0,
                                    alertAnalytics.risk_assessment?.legal_risk || 0
                                ],
                                backgroundColor: 'rgba(239, 68, 68, 0.2)',
                                borderColor: '#EF4444',
                                borderWidth: 2,
                                pointBackgroundColor: '#EF4444'
                            }]
                        },
                        options: {
                            scales: {
                                r: {
                                    beginAtZero: true,
                                    max: 100
                                }
                            }
                        },
                        title: 'Indicadores de Risco'
                    }
                };
            };

            const chartConfigs = prepareChartData();

            if (error && !isDemoMode) {
                return (
                    <div className="min-h-screen bg-gray-50 flex items-center justify-center p-4">
                        <div className="bg-white rounded-lg shadow-sm p-8 max-w-md w-full text-center">
                            <div className="text-red-500 text-4xl mb-4">‚ö†Ô∏è</div>
                            <h2 className="text-xl font-semibold text-gray-900 mb-2">Problema de Conex√£o</h2>
                            <p className="text-gray-600 mb-4">{error}</p>
                            <div className="space-y-2 mb-4">
                                <button 
                                    onClick={loadAllData}
                                    className="w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"
                                >
                                    üîÑ Tentar Novamente
                                </button>
                                <button 
                                    onClick={() => window.location.reload()}
                                    className="w-full bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700"
                                >
                                    üîÉ Recarregar P√°gina
                                </button>
                            </div>
                            <div className="text-xs text-gray-500">
                                <p>Verifique se o servidor est√° rodando:</p>
                                <code className="bg-gray-100 px-2 py-1 rounded">node backend/server-analytics.js</code>
                            </div>
                        </div>
                    </div>
                );
            }

            if (isLoading) {
                return (
                    <div className="loading">
                        <div className="spinner"></div>
                        <p className="mt-4 text-gray-600">Carregando dados do backend...</p>
                        <p className="text-sm text-gray-500">Conectando com as APIs...</p>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gray-50 p-4 md:p-6">
                    <div className="max-w-7xl mx-auto">
                        {/* HEADER COM STATUS */}
                        <div className={`rounded-lg shadow-sm p-4 md:p-6 mb-6 ${
                            apiProblems.length > 0 || isDemoMode ? 'problem-alert' : 'success-alert'
                        }`}>
                            <div className="flex flex-col md:flex-row items-start md:items-center justify-between">
                                <div className="mb-4 md:mb-0">
                                    <h1 className="text-2xl md:text-3xl font-bold">
                                        üìä Dashboard E-Sports & Apostas
                                    </h1>
                                    <p className="mt-2 text-sm md:text-base opacity-90">
                                        Sistema de An√°lise de Alertas - Tese de Doutorado
                                    </p>
                                    {isDemoMode && (
                                        <div className="mt-2 text-xs">
                                            üî¨ Modo Demonstra√ß√£o - Backend n√£o encontrado, usando dados simulados
                                        </div>
                                    )}
                                    {apiProblems.length > 0 && !isDemoMode && (
                                        <div className="mt-2 text-xs">
                                            ‚ö†Ô∏è {apiProblems.length} problema(s) nas APIs - Dados podem estar limitados
                                        </div>
                                    )}
                                    {apiProblems.length === 0 && !isDemoMode && (
                                        <div className="mt-2 text-xs opacity-75">
                                            ‚úÖ Todas as APIs funcionando - Dados em tempo real
                                        </div>
                                    )}
                                </div>
                                <div className="flex space-x-3">
                                    <button 
                                        onClick={loadAllData}
                                        disabled={isLoading}
                                        className="flex items-center px-4 py-2 bg-white bg-opacity-20 text-current rounded-lg hover:bg-opacity-30 text-sm disabled:opacity-50"
                                    >
                                        üîÑ Atualizar
                                    </button>
                                    <button 
                                        onClick={handleForceCollection}
                                        disabled={isCollecting || isDemoMode}
                                        className="flex items-center px-4 py-2 bg-white bg-opacity-20 text-current rounded-lg hover:bg-opacity-30 text-sm disabled:opacity-50"
                                    >
                                        {isCollecting ? '‚è≥' : 'üîÑ'} Nova Coleta
                                    </button>
                                </div>
                            </div>
                        </div>

                        {/* M√âTRICAS PRINCIPAIS */}
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                            <div className="metric-card p-4 rounded-lg shadow-sm">
                                <div className="flex items-center">
                                    <div className="text-white text-xl md:text-2xl mr-3">üö®</div>
                                    <div>
                                        <p className="text-xs md:text-sm font-medium opacity-90">Total Alertas</p>
                                        <p className="text-xl md:text-2xl font-semibold">
                                            {alertAnalytics?.executive_summary?.total_alerts || 0}
                                        </p>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="bg-red-600 p-4 rounded-lg shadow-sm text-white">
                                <div className="flex items-center">
                                    <div className="text-xl md:text-2xl mr-3">‚ö†Ô∏è</div>
                                    <div>
                                        <p className="text-xs md:text-sm font-medium opacity-90">Cr√≠ticos</p>
                                        <p className="text-xl md:text-2xl font-semibold">
                                            {alertAnalytics?.executive_summary?.critical_alerts || 0}
                                        </p>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="bg-orange-600 p-4 rounded-lg shadow-sm text-white">
                                <div className="flex items-center">
                                    <div className="text-xl md:text-2xl mr-3">üë∂</div>
                                    <div>
                                        <p className="text-xs md:text-sm font-medium opacity-90">Exposi√ß√£o Menores</p>
                                        <p className="text-xl md:text-2xl font-semibold">
                                            {alertAnalytics?.executive_summary?.minor_exposure_estimate || 0}%
                                        </p>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="bg-blue-600 p-4 rounded-lg shadow-sm text-white">
                                <div className="flex items-center">
                                    <div className="text-xl md:text-2xl mr-3">‚öñÔ∏è</div>
                                    <div>
                                        <p className="text-xs md:text-sm font-medium opacity-90">Compliance</p>
                                        <p className="text-xl md:text-2xl font-semibold">
                                            {Math.round(alertAnalytics?.executive_summary?.compliance_score || 0)}%
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* AVISO MODO DEMO */}
                        {isDemoMode && (
                            <div className="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                                <div className="flex items-start">
                                    <div className="text-blue-600 text-xl mr-3">üî¨</div>
                                    <div className="flex-1">
                                        <h3 className="font-medium text-blue-800">Modo Demonstra√ß√£o Ativo</h3>
                                        <div className="mt-2 text-sm text-blue-700">
                                            O backend n√£o foi encontrado, portanto o dashboard est√° executando com dados de demonstra√ß√£o realistas.
                                            Todas as funcionalidades est√£o dispon√≠veis para teste e avalia√ß√£o.
                                        </div>
                                        <div className="mt-3 text-xs text-blue-600">
                                            üí° Para usar dados reais, certifique-se de que o servidor backend esteja rodando na porta correta.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* AVISO PROBLEMAS APIs */}
                        {apiProblems.length > 0 && !isDemoMode && (
                            <div className="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6">
                                <div className="flex items-start">
                                    <div className="text-yellow-600 text-xl mr-3">‚ö†Ô∏è</div>
                                    <div className="flex-1">
                                        <h3 className="font-medium text-yellow-800">Problemas Detectados nas APIs</h3>
                                        <div className="mt-2 text-sm text-yellow-700">
                                            <ul className="list-disc list-inside space-y-1">
                                                {apiProblems.map((problem, index) => (
                                                    <li key={index}>{problem}</li>
                                                ))}
                                            </ul>
                                        </div>
                                        <div className="mt-3 text-xs text-yellow-600">
                                            üí° O sistema est√° funcionando com dados limitados. Para dados completos, configure as chaves das APIs no arquivo .env
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* TABS DE NAVEGA√á√ÉO */}
                        <div className="bg-white rounded-lg shadow-sm mb-6">
                            <div className="border-b border-gray-200">
                                <nav className="flex px-4 md:px-6 overflow-x-auto whitespace-nowrap">
                                    {[
                                        { id: 'overview', name: 'Vis√£o Geral', icon: 'üìä' },
                                        { id: 'charts', name: 'Gr√°ficos dos Alertas', icon: 'üìà' },
                                        { id: 'detailed', name: 'Alertas Detalhados', icon: 'üîç' },
                                        { id: 'academic', name: 'Relat√≥rio Acad√™mico', icon: 'üéì' }
                                    ].map((tab) => (
                                        <button
                                            key={tab.id}
                                            onClick={() => setActiveTab(tab.id)}
                                            className={`inline-flex items-center py-4 px-4 border-b-2 font-medium text-sm md:text-base ${
                                                activeTab === tab.id
                                                    ? 'border-blue-500 text-blue-600'
                                                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
                                            }`}
                                        >
                                            <span className="mr-2">{tab.icon}</span>
                                            {tab.name}
                                        </button>
                                    ))}
                                </nav>
                            </div>
                        </div>

                        {/* CONTE√öDO DAS TABS */}
                        <div className="space-y-6">
                            {/* TAB: VIS√ÉO GERAL */}
                            {activeTab === 'overview' && (
                                <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                    {/* Resumo Executivo */}
                                    <div className="bg-white p-6 rounded-lg shadow-sm">
                                        <h3 className="text-lg font-semibold mb-4 flex items-center">
                                            üìã Resumo Executivo
                                        </h3>
                                        <div className="space-y-3">
                                            <div className="flex justify-between items-center">
                                                <span className="text-gray-600">Atletas Afetados:</span>
                                                <span className="text-gray-800 font-semibold">
                                                    {alertAnalytics?.executive_summary?.affected_athletes || 0}
                                                </span>
                                            </div>
                                            <div className="flex justify-between items-center">
                                                <span className="text-gray-600">Plataformas Monitoradas:</span>
                                                <span className="text-gray-800 font-semibold">
                                                    {alertAnalytics?.executive_summary?.platforms_monitored || 0}
                                                </span>
                                            </div>
                                            <div className="flex justify-between items-center">
                                                <span className="text-gray-600">√öltima Atualiza√ß√£o:</span>
                                                <span className="text-gray-800 font-semibold">
                                                    {alertAnalytics?.executive_summary?.data_freshness || 'N/A'}
                                                </span>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Status do Sistema */}
                                    <div className="bg-white p-6 rounded-lg shadow-sm">
                                        <h3 className="text-lg font-semibold mb-4 flex items-center">
                                            üîß Status do Sistema
                                        </h3>
                                        <div className="space-y-3">
                                            <div className="flex items-center">
                                                <div className={`w-3 h-3 rounded-full mr-3 ${
                                                    isDemoMode ? 'bg-blue-500' : 'bg-green-500'
                                                }`}></div>
                                                <span className="text-gray-700">
                                                    {isDemoMode ? 'Modo Demonstra√ß√£o' : 'Sistema Online'}
                                                </span>
                                            </div>
                                            <div className="flex items-center">
                                                <div className={`w-3 h-3 rounded-full mr-3 ${
                                                    apiProblems.length > 0 ? 'bg-yellow-500' : 'bg-green-500'
                                                }`}></div>
                                                <span className="text-gray-700">
                                                    APIs: {apiProblems.length > 0 ? 'Parcial' : 'Funcionando'}
                                                </span>
                                            </div>
                                            <div className="flex items-center">
                                                <div className="w-3 h-3 rounded-full mr-3 bg-green-500"></div>
                                                <span className="text-gray-700">Interface: Operacional</span>
                                            </div>
                                        </div>
                                    </div>

                                    {/* √öltimos Alertas Cr√≠ticos - VERS√ÉO MELHORADA */}
                                    <div className="bg-white p-6 rounded-lg shadow-sm lg:col-span-2">
                                        <h3 className="text-lg font-semibold mb-4 flex items-center">
                                            üö® Alertas Cr√≠ticos Recentes
                                        </h3>
                                        <div className="space-y-4">
                                            {detailedAlerts?.alerts?.slice(0, 3).map((alert, index) => (
                                                <div key={alert.id || index} className="alert-card bg-gray-50 p-4 rounded-lg border-l-4 border-red-500">
                                                    <div className="flex items-start justify-between mb-3">
                                                        <div className="flex items-center space-x-3">
                                                            <PlatformIcon platform={alert.platform} />
                                                            <div>
                                                                <div className="flex items-center space-x-2 mb-1">
                                                                    <SeverityBadge severity={alert.severity} label={alert.severity_label} />
                                                                    <span className="text-sm text-gray-500">#{alert.id}</span>
                                                                </div>
                                                                <h4 className="font-semibold text-gray-900">{alert.category}</h4>
                                                                <p className="text-sm text-blue-600 hover:underline cursor-pointer">
                                                                    üìç {alert.platform} ‚Ä¢ {alert.athlete_involved}
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <div className="text-right">
                                                            <div className={`inline-block px-3 py-1 rounded-full text-xs font-medium ${
                                                                alert.risk_score >= 80 ? 'bg-red-100 text-red-800' :
                                                                alert.risk_score >= 60 ? 'bg-yellow-100 text-yellow-800' :
                                                                'bg-green-100 text-green-800'
                                                            }`}>
                                                                Risco: {alert.risk_score}%
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <div className="mb-3">
                                                        <p className="text-gray-700 text-sm mb-2">{alert.description}</p>
                                                        <div className="bg-gray-100 p-2 rounded text-xs italic text-gray-600">
                                                            "{alert.content_sample}"
                                                        </div>
                                                    </div>

                                                    <div className="grid grid-cols-1 md:grid-cols-3 gap-3 text-xs">
                                                        <div>
                                                            <span className="font-medium text-gray-600">Tipo do Problema:</span>
                                                            <p className="text-gray-800">{alert.problem_type}</p>
                                                        </div>
                                                        <div>
                                                            <span className="font-medium text-gray-600">Palavras Detectadas:</span>
                                                            <KeywordHighlight keywords={alert.detected_keywords} />
                                                        </div>
                                                        <div>
                                                            <span className="font-medium text-gray-600">Audi√™ncia Menor:</span>
                                                            <p className="text-gray-800">{alert.estimated_minor_audience}% (~{Math.round((alert.follower_count * alert.estimated_minor_audience) / 100).toLocaleString()} menores)</p>
                                                        </div>
                                                    </div>
                                                    
                                                    <div className="mt-3 text-xs text-gray-500 flex items-center justify-between">
                                                        <span>{new Date(alert.timestamp).toLocaleString('pt-BR')}</span>
                                                        <span>{alert.follower_count.toLocaleString()} seguidores ‚Ä¢ {alert.engagement_rate}% engajamento</span>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* TAB: GR√ÅFICOS */}
                            {activeTab === 'charts' && (
                                <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                    {chartConfigs && (
                                        <>
                                            <div className="bg-white p-6 rounded-lg shadow-sm">
                                                <ChartComponent {...chartConfigs.severity} />
                                            </div>
                                            <div className="bg-white p-6 rounded-lg shadow-sm">
                                                <ChartComponent {...chartConfigs.platforms} />
                                            </div>
                                            <div className="bg-white p-6 rounded-lg shadow-sm">
                                                <ChartComponent {...chartConfigs.categories} />
                                            </div>
                                            <div className="bg-white p-6 rounded-lg shadow-sm">
                                                <ChartComponent {...chartConfigs.riskIndicators} />
                                            </div>
                                        </>
                                    )}
                                </div>
                            )}

                            {/* TAB: ALERTAS DETALHADOS - VERS√ÉO COMPLETAMENTE MELHORADA */}
                            {activeTab === 'detailed' && (
                                <div className="bg-white rounded-lg shadow-sm">
                                    <div className="p-6 border-b border-gray-200">
                                        <h3 className="text-lg font-semibold flex items-center">
                                            üîç Alertas Detalhados - An√°lise Completa
                                        </h3>
                                        <p className="text-sm text-gray-600 mt-1">
                                            Relat√≥rio completo com localiza√ß√£o, palavras-chave e explica√ß√µes detalhadas
                                        </p>
                                    </div>
                                    <div className="p-6">
                                        <div className="space-y-6">
                                            {detailedAlerts?.alerts?.map((alert, index) => (
                                                <div key={alert.id || index} className="alert-card bg-white border border-gray-200 rounded-lg p-6 shadow-sm">
                                                    {/* HEADER DO ALERTA */}
                                                    <div className="flex items-start justify-between mb-4">
                                                        <div className="flex items-start space-x-4">
                                                            <PlatformIcon platform={alert.platform} />
                                                            <div className="flex-1">
                                                                <div className="flex items-center space-x-3 mb-2">
                                                                    <SeverityBadge severity={alert.severity} label={alert.severity_label} />
                                                                    <span className="text-sm font-mono text-gray-500">#{alert.id}</span>
                                                                    <span className="text-sm text-gray-400">‚Ä¢</span>
                                                                    <span className="text-sm text-gray-600">{new Date(alert.timestamp).toLocaleString('pt-BR')}</span>
                                                                </div>
                                                                <h4 className="text-lg font-semibold text-gray-900 mb-1">{alert.category}</h4>
                                                                <p className="text-sm text-blue-600 hover:underline cursor-pointer">
                                                                    üìç <strong>Detectado em:</strong> {alert.platform} ‚Ä¢ {alert.athlete_involved}
                                                                </p>
                                                                {alert.platform_url && (
                                                                    <p className="text-xs text-gray-500 mt-1">
                                                                        üîó URL: <code className="bg-gray-100 px-1 rounded">{alert.platform_url}</code>
                                                                    </p>
                                                                )}
                                                            </div>
                                                        </div>
                                                        <div className="text-right">
                                                            <div className={`inline-block px-4 py-2 rounded-lg text-sm font-bold ${
                                                                alert.risk_score >= 90 ? 'bg-red-100 text-red-800 border border-red-300' :
                                                                alert.risk_score >= 70 ? 'bg-orange-100 text-orange-800 border border-orange-300' :
                                                                alert.risk_score >= 50 ? 'bg-yellow-100 text-yellow-800 border border-yellow-300' :
                                                                'bg-green-100 text-green-800 border border-green-300'
                                                            }`}>
                                                                üéØ Risco: {alert.risk_score}%
                                                            </div>
                                                        </div>
                                                    </div>

                                                    {/* DESCRI√á√ÉO E CONTE√öDO */}
                                                    <div className="mb-4">
                                                        <p className="text-gray-700 mb-3">{alert.description}</p>
                                                        <div className="bg-gray-50 border-l-4 border-blue-400 p-3 rounded-r">
                                                            <p className="text-sm font-medium text-gray-700 mb-1">üìù Conte√∫do Detectado:</p>
                                                            <p className="text-sm italic text-gray-600">"{alert.content_sample}"</p>
                                                        </div>
                                                    </div>

                                                    {/* GRID DE DETALHES */}
                                                    <div className="alert-detail-grid mb-4">
                                                        <div className="bg-red-50 p-4 rounded-lg border border-red-200">
                                                            <h5 className="font-semibold text-red-800 mb-2 flex items-center">
                                                                üéØ Tipo do Problema
                                                            </h5>
                                                            <p className="text-sm text-red-700">{alert.problem_type}</p>
                                                        </div>

                                                        <div className="bg-yellow-50 p-4 rounded-lg border border-yellow-200">
                                                            <h5 className="font-semibold text-yellow-800 mb-2 flex items-center">
                                                                üîç Palavras-Chave Detectadas
                                                            </h5>
                                                            <KeywordHighlight keywords={alert.detected_keywords} />
                                                        </div>

                                                        <div className="bg-blue-50 p-4 rounded-lg border border-blue-200">
                                                            <h5 className="font-semibold text-blue-800 mb-2 flex items-center">
                                                                üë• Audi√™ncia & Alcance
                                                            </h5>
                                                            <div className="text-sm text-blue-700 space-y-1">
                                                                <p><strong>Seguidores:</strong> {alert.follower_count.toLocaleString()}</p>
                                                                <p><strong>Audi√™ncia Menor:</strong> {alert.estimated_minor_audience}%</p>
                                                                <p><strong>Engajamento:</strong> {alert.engagement_rate}%</p>
                                                                <p><strong>Menores Expostos:</strong> ~{Math.round((alert.follower_count * alert.estimated_minor_audience) / 100).toLocaleString()}</p>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    {/* EXPLICA√á√ÉO DETALHADA */}
                                                    <div className="alert-explanation">
                                                        <h5 className="font-semibold text-gray-800 mb-2 flex items-center">
                                                            üìö Explica√ß√£o do Alerta
                                                        </h5>
                                                        <p className="text-sm text-gray-700 leading-relaxed">
                                                            {alert.explanation}
                                                        </p>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* TAB: RELAT√ìRIO ACAD√äMICO */}
                            {activeTab === 'academic' && (
                                <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                                    {/* Metodologia */}
                                    <div className="academic-highlight p-6 rounded-lg shadow-sm lg:col-span-2">
                                        <h3 className="text-lg font-semibold mb-4 flex items-center">
                                            üéì Metodologia da Pesquisa
                                        </h3>
                                        <div className="space-y-4">
                                            <div>
                                                <p className="text-sm opacity-90 mb-2">
                                                    <strong>Abordagem:</strong>
                                                </p>
                                                <p className="text-sm leading-relaxed">
                                                    {academicReport?.research_summary?.methodology}
                                                </p>
                                            </div>
                                            <div className="grid grid-cols-2 gap-4">
                                                <div>
                                                    <p className="text-sm opacity-90">Tamanho da Amostra:</p>
                                                    <p className="text-lg font-semibold">
                                                        {academicReport?.research_summary?.sample_size?.toLocaleString('pt-BR') || 'N/A'}
                                                    </p>
                                                </div>
                                                <div>
                                                    <p className="text-sm opacity-90">Per√≠odo de An√°lise:</p>
                                                    <p className="text-lg font-semibold">
                                                        {academicReport?.research_summary?.analysis_period || 'N/A'}
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    {/* M√©tricas Acad√™micas */}
                                    <div className="bg-white p-6 rounded-lg shadow-sm">
                                        <h3 className="text-lg font-semibold mb-4 flex items-center">
                                            üìä M√©tricas Acad√™micas
                                        </h3>
                                        <div className="space-y-4">
                                            <div>
                                                <p className="text-sm text-gray-600">N√≠vel de Confian√ßa:</p>
                                                <p className="text-xl font-semibold text-gray-900">
                                                    {academicReport?.research_summary?.confidence_level || 0}%
                                                </p>
                                            </div>
                                            <div>
                                                <p className="text-sm text-gray-600">Signific√¢ncia Estat√≠stica:</p>
                                                <p className="text-xl font-semibold text-gray-900">
                                                    {academicReport?.academic_metrics?.statistical_significance
                                                        ? `p < ${academicReport.academic_metrics.statistical_significance}`
                                                        : 'N/A'}
                                                </p>
                                            </div>
                                            <div>
                                                <p className="text-sm text-gray-600">Tamanho do Efeito:</p>
                                                <p className="text-xl font-semibold text-gray-900">
                                                    {academicReport?.academic_metrics?.effect_size || 'N/A'}
                                                </p>
                                            </div>
                                            <div>
                                                <p className="text-sm text-gray-600">Refer√™ncias:</p>
                                                <p className="text-xl font-semibold text-gray-900">
                                                    {academicReport?.academic_metrics?.publications_referenced || 0}
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Principais Descobertas */}
                                    <div className="bg-white p-6 rounded-lg shadow-sm lg:col-span-3">
                                        <h3 className="text-lg font-semibold mb-4 flex items-center">
                                            üîç Principais Descobertas da Pesquisa
                                        </h3>
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            {academicReport?.research_summary?.key_findings?.map((finding, index) => (
                                                <div key={index} className="bg-gray-50 p-4 rounded-lg">
                                                    <div className="flex items-start">
                                                        <div className="text-blue-600 text-lg mr-3 mt-1">üí°</div>
                                                        <p className="text-gray-700 leading-relaxed">{finding}</p>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>

                                    {/* Status de Publica√ß√£o */}
                                    <div className="bg-gradient-to-r from-purple-600 to-blue-600 text-white p-6 rounded-lg shadow-sm lg:col-span-3">
                                        <h3 className="text-lg font-semibold mb-4 flex items-center">
                                            üìö Status de Publica√ß√£o
                                        </h3>
                                        <div className="flex items-center justify-between">
                                            <div>
                                                <p className="text-sm opacity-90 mb-1">Status Atual:</p>
                                                <p className="text-lg font-semibold">
                                                    {academicReport?.academic_metrics?.peer_review_status || 'Em prepara√ß√£o'}
                                                </p>
                                            </div>
                                            <div className="text-right">
                                                <div className="bg-white bg-opacity-20 rounded-lg p-3">
                                                    <div className="text-2xl mb-1">üéØ</div>
                                                    <div className="text-sm opacity-90">Pesquisa de Doutorado</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        // RENDERIZAR A APLICA√á√ÉO
        ReactDOM.render(<EsportsMonitoringDashboard />, document.getElementById('root'));
    </script>
</body>
</html>

                                                    {/*
                                                        

